Login2 As screen:
    BackgroundImage: ='abstracto geométrico blanco y gris'
    Fill: =RGBA(236, 236, 235, 1)
    LoadingSpinnerColor: =App.Theme.Colors.Primary

    Container6 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.Light
        Height: =768
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =1366
        ZIndex: =1

        IdTextField As text:
            Align: =Align.Center
            BorderColor: =RGBA(153, 201, 238, 1)
            BorderThickness: =2
            Color: =RGBA(0, 0, 0, 1)
            Default: =
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            FocusedBorderThickness: =4
            Font: =App.Theme.Font
            HintText: ="Ingrese su ID"
            HoverBorderColor: =App.Theme.Colors.Darker40
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =App.Theme.Colors.Lighter70
            OnChange: =SetFocus(contrasenaTxtfield)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =18
            X: =523
            Y: =360
            ZIndex: =1

        contrasenaTxtfield As text:
            Align: =Align.Center
            BorderColor: =RGBA(153, 201, 238, 1)
            BorderThickness: =2
            Color: =RGBA(0, 0, 0, 1)
            Default: =
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            FocusedBorderThickness: =4
            Font: =App.Theme.Font
            HintText: ="Ingrese su contraseña"
            HoverBorderColor: =App.Theme.Colors.Darker40
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =App.Theme.Colors.Lighter70
            Mode: =If(Varpw_visible,TextMode.SingleLine,TextMode.Password)
            PaddingLeft: =15
            PaddingRight: =15
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =18
            X: =523
            Y: =464
            ZIndex: =2

        IngresarBtn As button:
            BorderColor: =App.Theme.Colors.Primary
            DisabledBorderColor: =RGBA(244, 244, 244, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Fill: =App.Theme.Colors.Primary
            Font: =App.Theme.Font
            FontWeight: =FontWeight.Semibold
            Height: =56
            HoverBorderColor: =App.Theme.Colors.Darker10
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =App.Theme.Colors.Darker10
            OnSelect: |-
                =UpdateContext(
                    {
                        Valida: LookUp(
                            Empleados,
                            IdTextField.Text = Codigo,
                            Contraseña
                        )
                    }
                );
                If(
                   IsNumeric(IdTextField.Text),
                    If(
                        Valida = contrasenaTxtfield.Text,
                        
                        Set(
                            VarName,
                            IdTextField.Text
                        );
                        If(
                            LookUp(
                                Empleados,
                                IdTextField.Text = Codigo,
                                Acceso
                            ),
                            If(VarName = "2388",
                            Navigate(Screen1, ScreenTransition.Fade),
                            Navigate(
                                MenuNew,
                                ScreenTransition.Fade
                            )),
                            Navigate(
                                MenuEmpleado,
                                ScreenTransition.Fade
                            )
                        );
                        Reset(IdTextField);
                        Reset(contrasenaTxtfield);
                        UpdateContext({Varpw_visible: false}),
                        Notify(
                            "El usuario y la contrasena no coinciden, por favor verificar los datos",
                            NotificationType.Error
                        )
                    ),
                    Notify(
                        "El usuario y la contrasena no coinciden, por favor verificar los datos",
                        NotificationType.Error
                    )
                )
            PressedBorderColor: =App.Theme.Colors.Darker40
            PressedColor: =Self.Color
            PressedFill: =App.Theme.Colors.Darker40
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =15
            Text: ="Ingresar"
            Width: =320
            X: =523
            Y: =556
            ZIndex: =3

        LoginIcon As icon.Person:
            BorderColor: =
            Color: =App.Theme.Colors.Darker30
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(244, 244, 244, 1)
            Height: =180
            Icon: =Icon.Person
            Width: =290
            X: =538
            Y: =59
            ZIndex: =4

        LoginLbl As label:
            Align: =Align.Center
            BorderColor: =
            Color: =RGBA(16, 110, 190, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Font: =App.Theme.Font
            Height: =68
            Size: =40
            Text: ="Iniciar Sesión"
            Width: =400
            X: =483
            Y: =224
            ZIndex: =5

        CorregirContraLbl As label:
            BorderColor: =App.Theme.Colors.Darker40
            Color: =RGBA(16, 110, 190, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Font: =App.Theme.Font
            Height: =42
            HoverColor: =RGBA(233, 79, 76, 1)
            OnSelect: |-
                =Set(CambiarContra, true);
                Set(randomToken, RoundDown(Rand() * 99999 + 10000, 0));
                Set(tokenExpirationTime, DateAdd(Now(),10,TimeUnit.Minutes));
                Set(correoEmpleado, LookUp(Empleados, Codigo = IdTextField.Text, Correo));
                Set(Asunto, "CAMBIO DE CONTRASEÑA");
                Set(Texto, 
                    "Estimado/a,<br><br>" & 
                    "Has solicitado un cambio de contraseña. Tu token de verificación para proceder con el cambio es: " & randomToken & ".<br><br>" & 
                    "Si no solicitaste este cambio, por favor contacta a nuestro equipo de soporte inmediatamente para asegurar la seguridad de tu cuenta.<br><br>" & 
                    "Gracias,<br>" & 
                    "El equipo de soporte."
                );
                
                
                If(
                    !IsBlank(IdTextField.Text) && !IsBlank(correoEmpleado),
                    
                        EnviarCorreo.Run(correoEmpleado, Asunto, Texto);
                        Set(VarName, IdTextField.Text);
                        Notify("Correo enviado con éxito.", NotificationType.Success);
                      
                        Navigate(CambiarContraseña, ScreenTransition.Fade);
                    ,
                    Notify("El código de empleado no existe o el correo está vacío.", NotificationType.Warning)
                )
            Size: =13
            Text: ="¡Olvide mi contraseña!"
            Width: =188
            X: =652
            Y: =501
            ZIndex: =6

        Icon56 As icon.View:
            BorderColor: =App.Theme.Colors.Darker40
            Color: =App.Theme.Colors.Darker30
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(244, 244, 244, 1)
            Height: =20
            Icon: =Icon.View
            OnSelect: |-
                =UpdateContext({Varpw_visible:true})
            Visible: =If(Varpw_visible,false,true)
            Width: =33
            X: =807
            Y: =471
            ZIndex: =7

        Icon57 As icon.Hide:
            BorderColor: =App.Theme.Colors.Darker40
            Color: =App.Theme.Colors.Darker30
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(244, 244, 244, 1)
            Height: =25
            Icon: =Icon.Hide
            OnSelect: |-
                =UpdateContext({Varpw_visible:false})
            Visible: =If(Varpw_visible,true,false)
            Width: =33
            X: =807
            Y: =471
            ZIndex: =8

        Label2_5 As label:
            BorderColor: =App.Theme.Colors.Darker40
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Font: =App.Theme.Font
            Height: =15
            Size: =13
            Text: =
            Width: =1366
            ZIndex: =9

        LoginLbl_1 As label:
            Align: =Align.Center
            BorderColor: =App.Theme.Colors.Darker40
            Color: =RGBA(153, 207, 236, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Font: =App.Theme.Font
            Height: =68
            PaddingTop: =20
            Size: =30
            Text: ="Codigo"
            Width: =400
            X: =483
            Y: =292
            ZIndex: =10

        LoginLbl_2 As label:
            Align: =Align.Center
            BorderColor: =App.Theme.Colors.Darker40
            Color: =RGBA(153, 207, 236, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Font: =App.Theme.Font
            Height: =68
            PaddingTop: =20
            Size: =30
            Text: ="Contraseña"
            Width: =400
            X: =483
            Y: =396
            ZIndex: =11

